generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model auth_group {
  id                     Int                      @id @default(autoincrement())
  name                   String                   @unique @db.VarChar(150)
  auth_group_permissions auth_group_permissions[]
  users_user_groups      users_user_groups[]

  @@index([name], map: "auth_group_name_a6ea08ec_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model auth_group_permissions {
  id              Int             @id @default(autoincrement())
  group_id        Int
  permission_id   Int
  auth_permission auth_permission @relation(fields: [permission_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_group_permissio_permission_id_84c5c92e_fk_auth_perm")
  auth_group      auth_group      @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_group_permissions_group_id_b120cbf9_fk_auth_group_id")

  @@unique([group_id, permission_id], map: "auth_group_permissions_group_id_permission_id_0cd325b0_uniq")
  @@index([group_id], map: "auth_group_permissions_group_id_b120cbf9")
  @@index([permission_id], map: "auth_group_permissions_permission_id_84c5c92e")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model auth_permission {
  id                          Int                           @id @default(autoincrement())
  name                        String                        @db.VarChar(255)
  content_type_id             Int
  codename                    String                        @db.VarChar(100)
  auth_group_permissions      auth_group_permissions[]
  django_content_type         django_content_type           @relation(fields: [content_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "auth_permission_content_type_id_2f476e4b_fk_django_co")
  users_user_user_permissions users_user_user_permissions[]

  @@unique([content_type_id, codename], map: "auth_permission_content_type_id_codename_01ab375a_uniq")
  @@index([content_type_id], map: "auth_permission_content_type_id_2f476e4b")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model authtoken_token {
  key        String     @id @db.VarChar(40)
  created    DateTime   @db.Timestamptz(6)
  user_id    Int        @unique
  users_user users_user @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "authtoken_token_user_id_35299eff_fk_users_user_id")

  @@index([key], map: "authtoken_token_key_10f0b77e_like")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model capital_increases_capitalincrease {
  id                Int               @id @default(autoincrement())
  created           DateTime          @db.Timestamptz(6)
  modified          DateTime          @db.Timestamptz(6)
  max_shares        Int
  min_shares        Int
  deadline          DateTime          @db.Date
  amount_per_share  Decimal           @db.Decimal(20, 2)
  state             String            @db.VarChar(32)
  company_id        Int
  issue_premium     Decimal           @db.Decimal(20, 2)
  new_share_capital Decimal?          @db.Decimal(20, 2)
  companies_company companies_company @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "capital_increases_ca_company_id_2dd84b4d_fk_companies")
  offers_offer      offers_offer?

  @@index([company_id], map: "capital_increases_capitalincrease_company_id_2dd84b4d")
}

model companies_category {
  id                Int                 @id @default(autoincrement())
  name              String              @db.VarChar(100)
  companies_company companies_company[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model companies_company {
  id                                                Int                                 @id @default(autoincrement())
  created                                           DateTime                            @db.Timestamptz(6)
  modified                                          DateTime                            @db.Timestamptz(6)
  social_denomination                               String?                             @db.VarChar(100)
  cif                                               String?                             @db.VarChar(100)
  constitution_date                                 DateTime?                           @db.Date
  street_address                                    String?                             @db.VarChar(200)
  city                                              String?                             @db.VarChar(100)
  postal_code                                       String?                             @db.VarChar(10)
  state                                             String?                             @db.VarChar(100)
  country                                           String?                             @db.VarChar(2)
  logo                                              String?                             @db.VarChar(100)
  description                                       String?
  registration_data                                 String?
  governing_bodies                                  String?
  shares                                            Int?
  share_capital                                     Decimal?                            @db.Decimal(20, 2)
  par_value_per_share                               Decimal?                            @db.Decimal(20, 2)
  status                                            String                              @db.VarChar(32)
  published                                         Boolean
  slug                                              String?                             @unique @db.VarChar(50)
  right_conditions                                  Boolean
  right_conditions_days                             Int?
  stocken_invests                                   Boolean
  code                                              String?                             @unique @db.VarChar(4)
  legal_representative_id                           Int?
  governing_bodies_legal_representative_full_name   String?                             @db.VarChar(100)
  governing_bodies_legal_representative_position    String?                             @db.VarChar(100)
  governing_bodies_legal_representative_powers_date DateTime?                           @db.Date
  governing_bodies_notary_city                      String?                             @db.VarChar(100)
  governing_bodies_notary_full_name                 String?                             @db.VarChar(100)
  governing_bodies_notary_number                    String?                             @db.VarChar(100)
  registration_data_date                            DateTime?                           @db.Date
  registration_data_inscription_date                DateTime?                           @db.Date
  registration_data_inscription_number              String?                             @db.VarChar(100)
  registration_data_notary_city                     String?                             @db.VarChar(100)
  registration_data_notary_full_name                String?                             @db.VarChar(100)
  registration_data_notary_number                   String?                             @db.VarChar(100)
  registration_data_number                          String?                             @db.VarChar(100)
  registration_data_page_number                     String?                             @db.VarChar(100)
  registration_data_sheet_number                    String?                             @db.VarChar(100)
  registration_data_state                           String?                             @db.VarChar(100)
  registration_data_volume_number                   String?                             @db.VarChar(100)
  automation_corporate_management                   Boolean
  capture_private_financing                         Boolean
  management_transparency                           Boolean
  otra                                              Boolean
  otra_description                                  String?
  categories_id                                     Int?
  cod                                               String?                             @db.VarChar(30)
  mangopay_id                                       String?                             @db.VarChar(32)
  investor                                          Boolean
  capital_increases_capitalincrease                 capital_increases_capitalincrease[]
  companies_category                                companies_category?                 @relation(fields: [categories_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "companies_company_categories_id_b6c4c436_fk_companies")
  users_user                                        users_user?                         @relation(fields: [legal_representative_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "companies_company_legal_representative_ce4dfba4_fk_users_use")
  companies_company_investors                       companies_company_investors[]
  conversations_conversation                        conversations_conversation[]
  documents_document                                documents_document[]
  documents_useractiondetail                        documents_useractiondetail[]
  meetings_meeting                                  meetings_meeting[]
  offers_offer                                      offers_offer[]
  operations_operation                              operations_operation[]
  partners_partner                                  partners_partner[]
  stellar_asset                                     stellar_asset?
  users_user_favorited_companies                    users_user_favorited_companies[]

  @@index([categories_id], map: "companies_company_categories_id_b6c4c436")
  @@index([cod], map: "companies_company_cod_2328f962")
  @@index([cod], map: "companies_company_cod_2328f962_like")
  @@index([code], map: "companies_company_code_b4b3e879_like")
  @@index([legal_representative_id], map: "companies_company_legal_representative_id_ce4dfba4")
  @@index([slug], map: "companies_company_slug_cddc66aa_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model companies_company_investors {
  id                Int               @id @default(autoincrement())
  company_id        Int
  user_id           Int
  companies_company companies_company @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "companies_company_in_company_id_cf55bbf4_fk_companies")
  users_user        users_user        @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "companies_company_investors_user_id_3b016ef5_fk_users_user_id")

  @@unique([company_id, user_id], map: "companies_company_investors_company_id_user_id_cc1d17cc_uniq")
  @@index([company_id], map: "companies_company_investors_company_id_cf55bbf4")
  @@index([user_id], map: "companies_company_investors_user_id_3b016ef5")
}

model conversations_contact {
  id         Int      @id @default(autoincrement())
  name       String   @db.VarChar(255)
  subject    String   @db.VarChar(255)
  email      String   @db.VarChar(254)
  message    String
  created_at DateTime @db.Timestamptz(6)
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model conversations_conversation {
  id                                   Int                                    @id @default(autoincrement())
  created                              DateTime                               @db.Timestamptz(6)
  subject                              String                                 @db.VarChar(128)
  body                                 String
  is_from_company                      Boolean
  company_id                           Int
  creator_id                           Int
  blockchain_link                      String?
  blockchain_transaction_id            String?
  cod                                  String?                                @db.VarChar(30)
  transaction_hash                     String?
  companies_company                    companies_company                      @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversations_conver_company_id_122724fe_fk_companies")
  users_user                           users_user                             @relation(fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversations_conversation_creator_id_3de68382_fk_users_user_id")
  conversations_conversation_documents conversations_conversation_documents[]
  conversations_conversation_partners  conversations_conversation_partners[]
  conversations_conversationhistory    conversations_conversationhistory[]
  conversations_message                conversations_message[]

  @@index([company_id], map: "conversations_conversation_company_id_122724fe")
  @@index([creator_id], map: "conversations_conversation_creator_id_3de68382")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model conversations_conversation_documents {
  id                         Int                        @id @default(autoincrement())
  conversation_id            Int
  document_id                Int
  conversations_conversation conversations_conversation @relation(fields: [conversation_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversations_conver_conversation_id_a520b337_fk_conversat")
  documents_document         documents_document         @relation(fields: [document_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversations_conver_document_id_1105dbc0_fk_documents")

  @@unique([conversation_id, document_id], map: "conversations_conversati_conversation_id_document_40a8b973_uniq")
  @@index([conversation_id], map: "conversations_conversation_documents_conversation_id_a520b337")
  @@index([document_id], map: "conversations_conversation_documents_document_id_1105dbc0")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model conversations_conversation_partners {
  id                         Int                        @id @default(autoincrement())
  conversation_id            Int
  partner_id                 Int
  conversations_conversation conversations_conversation @relation(fields: [conversation_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversations_conver_conversation_id_ac6e3b4d_fk_conversat")
  partners_partner           partners_partner           @relation(fields: [partner_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversations_conver_partner_id_bc190265_fk_partners_")

  @@unique([conversation_id, partner_id], map: "conversations_conversati_conversation_id_partner__4f8b61a3_uniq")
  @@index([conversation_id], map: "conversations_conversation_partners_conversation_id_ac6e3b4d")
  @@index([partner_id], map: "conversations_conversation_partners_partner_id_bc190265")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model conversations_conversationhistory {
  id                         Int                         @id @default(autoincrement())
  created                    DateTime                    @db.Timestamptz(6)
  modified                   DateTime                    @db.Timestamptz(6)
  transaction_hash           String?
  conversation_id            Int?
  creator_id                 Int?
  blockchain_link            String?
  blockchain_transaction_id  String?
  conversations_conversation conversations_conversation? @relation(fields: [conversation_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversations_conver_conversation_id_ef438669_fk_conversat")
  users_user                 users_user?                 @relation(fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversations_conver_creator_id_b724cdf7_fk_users_use")

  @@index([conversation_id], map: "conversations_conversationhistory_conversation_id_ef438669")
  @@index([creator_id], map: "conversations_conversationhistory_creator_id_b724cdf7")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model conversations_message {
  id                              Int                               @id @default(autoincrement())
  created                         DateTime                          @db.Timestamptz(6)
  body                            String
  conversation_id                 Int
  creator_id                      Int
  blockchain_link                 String?
  blockchain_transaction_id       String?
  transaction_hash                String?
  cod                             String?                           @db.VarChar(30)
  conversations_conversation      conversations_conversation        @relation(fields: [conversation_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversations_messag_conversation_id_f1a2d5e9_fk_conversat")
  users_user                      users_user                        @relation(fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversations_message_creator_id_6247eee0_fk_users_user_id")
  conversations_message_documents conversations_message_documents[]

  @@index([conversation_id], map: "conversations_message_conversation_id_f1a2d5e9")
  @@index([creator_id], map: "conversations_message_creator_id_6247eee0")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model conversations_message_documents {
  id                    Int                   @id @default(autoincrement())
  message_id            Int
  document_id           Int
  documents_document    documents_document    @relation(fields: [document_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversations_messag_document_id_bce582b0_fk_documents")
  conversations_message conversations_message @relation(fields: [message_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "conversations_messag_message_id_11f05fe2_fk_conversat")

  @@unique([message_id, document_id], map: "conversations_message_do_message_id_document_id_bee6704f_uniq")
  @@index([document_id], map: "conversations_message_documents_document_id_bce582b0")
  @@index([message_id], map: "conversations_message_documents_message_id_11f05fe2")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model currencies_currency {
  code                  String                @id @db.VarChar(3)
  currency_asset_id     Int                   @unique
  stellar_currencyasset stellar_currencyasset @relation(fields: [currency_asset_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "currencies_currency_currency_asset_id_13b2b800_fk_stellar_c")

  @@index([code], map: "currencies_currency_code_165b7e38_like")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model django_admin_log {
  id                  Int                  @id @default(autoincrement())
  action_time         DateTime             @db.Timestamptz(6)
  object_id           String?
  object_repr         String               @db.VarChar(200)
  action_flag         Int                  @db.SmallInt
  change_message      String
  content_type_id     Int?
  user_id             Int
  django_content_type django_content_type? @relation(fields: [content_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "django_admin_log_content_type_id_c4bce8eb_fk_django_co")
  users_user          users_user           @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "django_admin_log_user_id_c564eba6_fk_users_user_id")

  @@index([content_type_id], map: "django_admin_log_content_type_id_c4bce8eb")
  @@index([user_id], map: "django_admin_log_user_id_c564eba6")
}

model django_content_type {
  id                                                                     Int                @id @default(autoincrement())
  app_label                                                              String             @db.VarChar(100)
  model                                                                  String             @db.VarChar(100)
  auth_permission                                                        auth_permission[]
  django_admin_log                                                       django_admin_log[]
  partners_partner                                                       partners_partner[]
  snitch_event_snitch_event_actor_content_type_idTodjango_content_type   snitch_event[]     @relation("snitch_event_actor_content_type_idTodjango_content_type")
  snitch_event_snitch_event_target_content_type_idTodjango_content_type  snitch_event[]     @relation("snitch_event_target_content_type_idTodjango_content_type")
  snitch_event_snitch_event_trigger_content_type_idTodjango_content_type snitch_event[]     @relation("snitch_event_trigger_content_type_idTodjango_content_type")
  votes_vote                                                             votes_vote[]

  @@unique([app_label, model], map: "django_content_type_app_label_model_76bd3d3b_uniq")
}

model django_migrations {
  id      Int      @id @default(autoincrement())
  app     String   @db.VarChar(255)
  name    String   @db.VarChar(255)
  applied DateTime @db.Timestamptz(6)
}

model django_session {
  session_key  String   @id @db.VarChar(40)
  session_data String
  expire_date  DateTime @db.Timestamptz(6)

  @@index([expire_date], map: "django_session_expire_date_a5c62663")
  @@index([session_key], map: "django_session_session_key_c0390e0f_like")
}

model django_site {
  id     Int    @id @default(autoincrement())
  domain String @unique(map: "django_site_domain_a2e37b91_uniq") @db.VarChar(100)
  name   String @db.VarChar(50)

  @@index([domain], map: "django_site_domain_a2e37b91_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model documents_document {
  id                                   Int                                    @id @default(autoincrement())
  created                              DateTime                               @db.Timestamptz(6)
  modified                             DateTime                               @db.Timestamptz(6)
  name                                 String                                 @db.VarChar(100)
  description                          String
  file                                 String                                 @db.VarChar(100)
  visibility                           String                                 @db.VarChar(16)
  company_id                           Int
  creator_id                           Int?
  file_hash                            String?
  stellar_transaction_hash             String?
  related_meeting_id                   Int?
  related_operation_id                 Int?
  type                                 String?                                @db.VarChar(16)
  blockchain_link                      String?
  blockchain_transaction_id            String?
  cod                                  String?                                @db.VarChar(30)
  transaction_hash                     String?
  conversations_conversation_documents conversations_conversation_documents[]
  conversations_message_documents      conversations_message_documents[]
  companies_company                    companies_company                      @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "documents_document_company_id_a2323c19_fk_companies_company_id")
  users_user                           users_user?                            @relation(fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "documents_document_creator_id_e53c7296_fk_users_user_id")
  meetings_meeting                     meetings_meeting?                      @relation(fields: [related_meeting_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "documents_document_related_meeting_id_3655541d_fk_meetings_")
  operations_operation                 operations_operation?                  @relation(fields: [related_operation_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "documents_document_related_operation_id_f0cd3e91_fk_operation")
  documents_document_related_users     documents_document_related_users[]
  documents_historydocument            documents_historydocument[]

  @@index([company_id], map: "documents_document_company_id_a2323c19")
  @@index([creator_id], map: "documents_document_creator_id_e53c7296")
  @@index([related_meeting_id], map: "documents_document_related_meeting_id_3655541d")
  @@index([related_operation_id], map: "documents_document_related_operation_id_f0cd3e91")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model documents_document_related_users {
  id                 Int                @id @default(autoincrement())
  document_id        Int
  user_id            Int
  documents_document documents_document @relation(fields: [document_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "documents_document_r_document_id_b59f104d_fk_documents")
  users_user         users_user         @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "documents_document_r_user_id_f5ae5d43_fk_users_use")

  @@unique([document_id, user_id], map: "documents_document_relat_document_id_user_id_4e5fa7a9_uniq")
  @@index([document_id], map: "documents_document_related_users_document_id_b59f104d")
  @@index([user_id], map: "documents_document_related_users_user_id_f5ae5d43")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model documents_historydocument {
  id                        Int                 @id @default(autoincrement())
  created                   DateTime            @db.Timestamptz(6)
  modified                  DateTime            @db.Timestamptz(6)
  transaction_hash          String?
  creator_id                Int?
  document_id               Int?
  blockchain_link           String?
  blockchain_transaction_id String?
  cod                       String?             @db.VarChar(30)
  documents_document        documents_document? @relation(fields: [document_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "documents_historydoc_document_id_cee359cd_fk_documents")
  users_user                users_user?         @relation(fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "documents_historydocument_creator_id_5ef4a743_fk_users_user_id")

  @@index([creator_id], map: "documents_historydocument_creator_id_5ef4a743")
  @@index([document_id], map: "documents_historydocument_document_id_cee359cd")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model documents_useractiondetail {
  id                       Int                      @id @default(autoincrement())
  action                   String                   @db.VarChar(255)
  timestamp                DateTime                 @db.Timestamptz(6)
  details                  String?
  company_id               Int?
  session_id               Int
  companies_company        companies_company?       @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "documents_useraction_company_id_97963439_fk_companies")
  documents_usersessionlog documents_usersessionlog @relation(fields: [session_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "documents_useraction_session_id_e7baf4a6_fk_documents")

  @@index([company_id], map: "documents_useractiondetail_company_id_97963439")
  @@index([session_id], map: "documents_useractiondetail_session_id_e7baf4a6")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model documents_usersessionlog {
  id                         Int                          @id @default(autoincrement())
  start_time                 DateTime                     @db.Timestamptz(6)
  end_time                   DateTime?                    @db.Timestamptz(6)
  user_id                    Int
  documents_useractiondetail documents_useractiondetail[]
  users_user                 users_user                   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "documents_usersessionlog_user_id_72905266_fk_users_user_id")

  @@index([user_id], map: "documents_usersessionlog_user_id_72905266")
}

model mangopay_basemangopaytransaction {
  id                               Int                               @id @default(autoincrement())
  created                          DateTime                          @db.Timestamptz(6)
  modified                         DateTime                          @db.Timestamptz(6)
  transaction_id                   String                            @db.VarChar(32)
  status                           String                            @db.VarChar(32)
  amount                           Decimal                           @db.Decimal(20, 2)
  currency                         String                            @db.VarChar(3)
  fees                             Decimal                           @db.Decimal(20, 2)
  cod                              String                            @db.VarChar(30)
  mangopay_mangopaybankwiredeposit mangopay_mangopaybankwiredeposit?
  mangopay_mangopaydeposit         mangopay_mangopaydeposit?
  mangopay_mangopaytransfer        mangopay_mangopaytransfer?

  @@index([cod], map: "mangopay_basemangopaytransaction_cod_4a7070ab")
  @@index([cod], map: "mangopay_basemangopaytransaction_cod_4a7070ab_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model mangopay_mangopaybankaccount {
  id                   Int        @id @default(autoincrement())
  created              DateTime   @db.Timestamptz(6)
  modified             DateTime   @db.Timestamptz(6)
  bank_account_id      String     @db.VarChar(32)
  iban                 String     @db.VarChar(100)
  is_active            Boolean
  owner_name           String     @db.VarChar(200)
  owner_street_address String     @db.VarChar(200)
  owner_city           String     @db.VarChar(100)
  owner_postal_code    String     @db.VarChar(10)
  owner_state          String     @db.VarChar(100)
  owner_country        String     @db.VarChar(2)
  user_id              Int
  cod                  String     @db.VarChar(30)
  users_user           users_user @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "mangopay_mangopaybankaccount_user_id_1efeffeb_fk_users_user_id")

  @@index([cod], map: "mangopay_mangopaybankaccount_cod_16473157")
  @@index([cod], map: "mangopay_mangopaybankaccount_cod_16473157_like")
  @@index([user_id], map: "mangopay_mangopaybankaccount_user_id_1efeffeb")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model mangopay_mangopaybankwiredeposit {
  basemangopaytransaction_ptr_id   Int                              @id
  wire_reference                   String                           @db.VarChar(64)
  bank_account                     String                           @db.VarChar(64)
  to_user_id                       Int
  mangopay_basemangopaytransaction mangopay_basemangopaytransaction @relation(fields: [basemangopaytransaction_ptr_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "mangopay_mangopayban_basemangopaytransact_8f335080_fk_mangopay_")
  users_user                       users_user                       @relation(fields: [to_user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "mangopay_mangopayban_to_user_id_71a14e73_fk_users_use")

  @@index([to_user_id], map: "mangopay_mangopaybankwiredeposit_to_user_id_71a14e73")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model mangopay_mangopaydeposit {
  language                         String                           @db.VarChar(8)
  redirect_url                     String                           @db.VarChar(200)
  return_url                       String                           @db.VarChar(200)
  to_user_id                       Int
  basemangopaytransaction_ptr_id   Int                              @id(map: "mangopay_mangopaypayment_pkey")
  mangopay_basemangopaytransaction mangopay_basemangopaytransaction @relation(fields: [basemangopaytransaction_ptr_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "mangopay_mangopaypay_basemangopaytransact_cd59d58a_fk_mangopay_")
  users_user                       users_user                       @relation(fields: [to_user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "mangopay_mangopaypayment_to_user_id_b1ab7f6c_fk_users_user_id")

  @@index([to_user_id], map: "mangopay_mangopaypayment_user_id_f5ba9655")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model mangopay_mangopaykycdocument {
  id                     Int        @id @default(autoincrement())
  created                DateTime   @db.Timestamptz(6)
  modified               DateTime   @db.Timestamptz(6)
  status                 String     @db.VarChar(32)
  type                   String     @db.VarChar(32)
  document_id            String     @db.VarChar(32)
  user_id                Int
  processed_date         DateTime?  @db.Timestamptz(6)
  refused_reason_message String?    @db.VarChar(256)
  refused_reason_type    String?    @db.VarChar(64)
  cod                    String     @db.VarChar(30)
  users_user             users_user @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "mangopay_mangopaykycdocument_user_id_8a4e361d_fk_users_user_id")

  @@index([cod], map: "mangopay_mangopaykycdocument_cod_96c83ba6")
  @@index([cod], map: "mangopay_mangopaykycdocument_cod_96c83ba6_like")
  @@index([user_id], map: "mangopay_mangopaykycdocument_user_id_8a4e361d")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model mangopay_mangopaytransfer {
  from_user_id                                                  Int
  to_user_id                                                    Int
  basemangopaytransaction_ptr_id                                Int                              @id
  from_cod                                                      String?                          @db.VarChar(255)
  to_cod                                                        String?                          @db.VarChar(255)
  total_amount                                                  Decimal?                         @db.Decimal(20, 2)
  mangopay_basemangopaytransaction                              mangopay_basemangopaytransaction @relation(fields: [basemangopaytransaction_ptr_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "mangopay_mangopaytra_basemangopaytransact_d76323ba_fk_mangopay_")
  users_user_mangopay_mangopaytransfer_from_user_idTousers_user users_user                       @relation("mangopay_mangopaytransfer_from_user_idTousers_user", fields: [from_user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "mangopay_mangopaytra_from_user_id_8f629f37_fk_users_use")
  users_user_mangopay_mangopaytransfer_to_user_idTousers_user   users_user                       @relation("mangopay_mangopaytransfer_to_user_idTousers_user", fields: [to_user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "mangopay_mangopaytransfer_to_user_id_192815a2_fk_users_user_id")

  @@index([from_user_id], map: "mangopay_mangopaytransfer_from_user_id_8f629f37")
  @@index([to_user_id], map: "mangopay_mangopaytransfer_to_user_id_192815a2")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model mangopay_mangopayuser {
  id          Int        @id @default(autoincrement())
  created     DateTime   @db.Timestamptz(6)
  modified    DateTime   @db.Timestamptz(6)
  mangopay_id String     @db.VarChar(32)
  user_id     Int
  kyc_level   String     @db.VarChar(32)
  cod         String     @db.VarChar(30)
  users_user  users_user @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "mangopay_mangopayuser_user_id_16f19700_fk_users_user_id")

  @@index([cod], map: "mangopay_mangopayuser_cod_57e3bc46")
  @@index([cod], map: "mangopay_mangopayuser_cod_57e3bc46_like")
  @@index([user_id], map: "mangopay_mangopayuser_user_id_16f19700")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model mangopay_mangopaywallet {
  id         Int         @id @default(autoincrement())
  created    DateTime    @db.Timestamptz(6)
  modified   DateTime    @db.Timestamptz(6)
  wallet_id  String      @db.VarChar(32)
  user_id    Int?
  amount     Decimal     @db.Decimal(20, 2)
  cod        String      @db.VarChar(30)
  users_user users_user? @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "mangopay_mangopaywallet_user_id_abdecccd_fk_users_user_id")

  @@index([user_id], map: "mangopay_mangopaywallet_user_id_abdecccd")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model meetings_agendaitem {
  id                 Int                 @id @default(autoincrement())
  created            DateTime            @db.Timestamptz(6)
  proposal           String
  meeting_id         Int
  proposal_agreement String?
  approved           Boolean?
  meetings_meeting   meetings_meeting    @relation(fields: [meeting_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "meetings_agendaitem_meeting_id_07815bb0_fk_meetings_meeting_id")
  meetings_document  meetings_document[]
  votes_vote         votes_vote[]

  @@index([meeting_id], map: "meetings_agendaitem_meeting_id_07815bb0")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model meetings_document {
  id                                                              Int                                @id @default(autoincrement())
  created                                                         DateTime                           @db.Timestamptz(6)
  file                                                            String                             @db.VarChar(100)
  hash                                                            String?
  agenda_item_id                                                  Int?
  creator_id                                                      Int?
  stellar_transaction_hash                                        String?
  blockchain_link                                                 String?
  blockchain_transaction_id                                       String?
  meetings_agendaitem                                             meetings_agendaitem?               @relation(fields: [agenda_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "meetings_document_agenda_item_id_05269058_fk_meetings_")
  users_user                                                      users_user?                        @relation(fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "meetings_document_creator_id_ce7348bc_fk_users_user_id")
  meetings_historymeetingsdocument                                meetings_historymeetingsdocument[]
  meetings_meeting_meetings_meeting_call_idTomeetings_document    meetings_meeting?                  @relation("meetings_meeting_call_idTomeetings_document")
  meetings_meeting_meetings_meeting_minutes_idTomeetings_document meetings_meeting?                  @relation("meetings_meeting_minutes_idTomeetings_document")

  @@index([agenda_item_id], map: "meetings_document_agenda_item_id_05269058")
  @@index([creator_id], map: "meetings_document_creator_id_ce7348bc")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model meetings_historymeetingsdocument {
  id                        Int                @id @default(autoincrement())
  created                   DateTime           @db.Timestamptz(6)
  modified                  DateTime           @db.Timestamptz(6)
  transaction_hash          String?
  blockchain_transaction_id String?
  blockchain_link           String?
  creator_id                Int?
  document_id               Int?
  users_user                users_user?        @relation(fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "meetings_historymeet_creator_id_5e09a29f_fk_users_use")
  meetings_document         meetings_document? @relation(fields: [document_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "meetings_historymeet_document_id_b1eb6e87_fk_meetings_")

  @@index([creator_id], map: "meetings_historymeetingsdocument_creator_id_5e09a29f")
  @@index([document_id], map: "meetings_historymeetingsdocument_document_id_b1eb6e87")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model meetings_meeting {
  id                                                               Int                    @id @default(autoincrement())
  planned_date                                                     DateTime               @db.Date
  celebration_date                                                 DateTime?              @db.Date
  time                                                             DateTime               @db.Time(6)
  finish                                                           DateTime?              @db.Timestamptz(6)
  date_of_call                                                     DateTime?              @db.Date
  state                                                            String                 @db.VarChar(32)
  type                                                             String                 @db.VarChar(32)
  place                                                            String                 @db.VarChar(256)
  company_id                                                       Int
  creator_id                                                       Int?
  minutes_id                                                       Int?                   @unique
  footer                                                           String?
  header                                                           String?
  review_date                                                      DateTime?              @db.Date
  call_id                                                          Int?                   @unique
  documents_document                                               documents_document[]
  meetings_agendaitem                                              meetings_agendaitem[]
  meetings_document_meetings_meeting_call_idTomeetings_document    meetings_document?     @relation("meetings_meeting_call_idTomeetings_document", fields: [call_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "meetings_meeting_call_id_195a944a_fk_meetings_document_id")
  companies_company                                                companies_company      @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "meetings_meeting_company_id_15255a07_fk_companies_company_id")
  users_user                                                       users_user?            @relation(fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "meetings_meeting_creator_id_ba60be78_fk_users_user_id")
  meetings_document_meetings_meeting_minutes_idTomeetings_document meetings_document?     @relation("meetings_meeting_minutes_idTomeetings_document", fields: [minutes_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "meetings_meeting_minutes_id_f772076b_fk_meetings_document_id")
  meetings_participant                                             meetings_participant[]

  @@index([company_id], map: "meetings_meeting_company_id_15255a07")
  @@index([creator_id], map: "meetings_meeting_creator_id_ba60be78")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model meetings_participant {
  id               Int              @id @default(autoincrement())
  shares           Int
  attendant        Boolean
  vote_datetime    DateTime?        @db.Timestamptz(6)
  meeting_id       Int
  user_id          Int
  read_call        DateTime?        @db.Timestamptz(6)
  read_minutes     DateTime?        @db.Timestamptz(6)
  cod              String?          @db.VarChar(10)
  meetings_meeting meetings_meeting @relation(fields: [meeting_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "meetings_participant_meeting_id_4a769a34_fk_meetings_meeting_id")
  users_user       users_user       @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "meetings_participant_user_id_b38e7254_fk_users_user_id")

  @@index([meeting_id], map: "meetings_participant_meeting_id_4a769a34")
  @@index([user_id], map: "meetings_participant_user_id_b38e7254")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model oauth2_provider_accesstoken {
  id                                                                                                             BigInt                        @id @default(autoincrement())
  token                                                                                                          String                        @unique @db.VarChar(255)
  expires                                                                                                        DateTime                      @db.Timestamptz(6)
  scope                                                                                                          String
  application_id                                                                                                 BigInt?
  user_id                                                                                                        Int?
  created                                                                                                        DateTime                      @db.Timestamptz(6)
  updated                                                                                                        DateTime                      @db.Timestamptz(6)
  source_refresh_token_id                                                                                        BigInt?                       @unique
  id_token_id                                                                                                    BigInt?                       @unique
  oauth2_provider_application                                                                                    oauth2_provider_application?  @relation(fields: [application_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "oauth2_provider_acce_application_id_b22886e1_fk_oauth2_pr")
  oauth2_provider_idtoken                                                                                        oauth2_provider_idtoken?      @relation(fields: [id_token_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "oauth2_provider_acce_id_token_id_85db651b_fk_oauth2_pr")
  oauth2_provider_refreshtoken_oauth2_provider_accesstoken_source_refresh_token_idTooauth2_provider_refreshtoken oauth2_provider_refreshtoken? @relation("oauth2_provider_accesstoken_source_refresh_token_idTooauth2_provider_refreshtoken", fields: [source_refresh_token_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "oauth2_provider_acce_source_refresh_token_e66fbc72_fk_oauth2_pr")
  users_user                                                                                                     users_user?                   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "oauth2_provider_accesstoken_user_id_6e4c9a65_fk_users_user_id")
  oauth2_provider_refreshtoken_oauth2_provider_refreshtoken_access_token_idTooauth2_provider_accesstoken         oauth2_provider_refreshtoken? @relation("oauth2_provider_refreshtoken_access_token_idTooauth2_provider_accesstoken")

  @@index([application_id], map: "oauth2_provider_accesstoken_application_id_b22886e1")
  @@index([token], map: "oauth2_provider_accesstoken_token_8af090f8_like")
  @@index([user_id], map: "oauth2_provider_accesstoken_user_id_6e4c9a65")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model oauth2_provider_application {
  id                           BigInt                         @id @default(autoincrement())
  client_id                    String                         @unique @db.VarChar(100)
  redirect_uris                String
  client_type                  String                         @db.VarChar(32)
  authorization_grant_type     String                         @db.VarChar(32)
  client_secret                String                         @db.VarChar(255)
  name                         String                         @db.VarChar(255)
  user_id                      Int?
  skip_authorization           Boolean
  created                      DateTime                       @db.Timestamptz(6)
  updated                      DateTime                       @db.Timestamptz(6)
  algorithm                    String                         @db.VarChar(5)
  post_logout_redirect_uris    String
  oauth2_provider_accesstoken  oauth2_provider_accesstoken[]
  users_user                   users_user?                    @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "oauth2_provider_application_user_id_79829054_fk_users_user_id")
  oauth2_provider_grant        oauth2_provider_grant[]
  oauth2_provider_idtoken      oauth2_provider_idtoken[]
  oauth2_provider_refreshtoken oauth2_provider_refreshtoken[]

  @@index([client_id], map: "oauth2_provider_application_client_id_03f0cc84_like")
  @@index([client_secret], map: "oauth2_provider_application_client_secret_53133678")
  @@index([client_secret], map: "oauth2_provider_application_client_secret_53133678_like")
  @@index([user_id], map: "oauth2_provider_application_user_id_79829054")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model oauth2_provider_grant {
  id                          BigInt                      @id @default(autoincrement())
  code                        String                      @unique @db.VarChar(255)
  expires                     DateTime                    @db.Timestamptz(6)
  redirect_uri                String
  scope                       String
  application_id              BigInt
  user_id                     Int
  created                     DateTime                    @db.Timestamptz(6)
  updated                     DateTime                    @db.Timestamptz(6)
  code_challenge              String                      @db.VarChar(128)
  code_challenge_method       String                      @db.VarChar(10)
  nonce                       String                      @db.VarChar(255)
  claims                      String
  oauth2_provider_application oauth2_provider_application @relation(fields: [application_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "oauth2_provider_gran_application_id_81923564_fk_oauth2_pr")
  users_user                  users_user                  @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "oauth2_provider_grant_user_id_e8f62af8_fk_users_user_id")

  @@index([application_id], map: "oauth2_provider_grant_application_id_81923564")
  @@index([code], map: "oauth2_provider_grant_code_49ab4ddf_like")
  @@index([user_id], map: "oauth2_provider_grant_user_id_e8f62af8")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model oauth2_provider_idtoken {
  id                          BigInt                       @id @default(autoincrement())
  jti                         String                       @unique @db.Uuid
  expires                     DateTime                     @db.Timestamptz(6)
  scope                       String
  created                     DateTime                     @db.Timestamptz(6)
  updated                     DateTime                     @db.Timestamptz(6)
  application_id              BigInt?
  user_id                     Int?
  oauth2_provider_accesstoken oauth2_provider_accesstoken?
  oauth2_provider_application oauth2_provider_application? @relation(fields: [application_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "oauth2_provider_idto_application_id_08c5ff4f_fk_oauth2_pr")
  users_user                  users_user?                  @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "oauth2_provider_idtoken_user_id_dd512b59_fk_users_user_id")

  @@index([application_id], map: "oauth2_provider_idtoken_application_id_08c5ff4f")
  @@index([user_id], map: "oauth2_provider_idtoken_user_id_dd512b59")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model oauth2_provider_refreshtoken {
  id                                                                                                            BigInt                       @id @default(autoincrement())
  token                                                                                                         String                       @db.VarChar(255)
  access_token_id                                                                                               BigInt?                      @unique
  application_id                                                                                                BigInt
  user_id                                                                                                       Int
  created                                                                                                       DateTime                     @db.Timestamptz(6)
  updated                                                                                                       DateTime                     @db.Timestamptz(6)
  revoked                                                                                                       DateTime?                    @db.Timestamptz(6)
  oauth2_provider_accesstoken_oauth2_provider_accesstoken_source_refresh_token_idTooauth2_provider_refreshtoken oauth2_provider_accesstoken? @relation("oauth2_provider_accesstoken_source_refresh_token_idTooauth2_provider_refreshtoken")
  oauth2_provider_accesstoken_oauth2_provider_refreshtoken_access_token_idTooauth2_provider_accesstoken         oauth2_provider_accesstoken? @relation("oauth2_provider_refreshtoken_access_token_idTooauth2_provider_accesstoken", fields: [access_token_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "oauth2_provider_refr_access_token_id_775e84e8_fk_oauth2_pr")
  oauth2_provider_application                                                                                   oauth2_provider_application  @relation(fields: [application_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "oauth2_provider_refr_application_id_2d1c311b_fk_oauth2_pr")
  users_user                                                                                                    users_user                   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "oauth2_provider_refreshtoken_user_id_da837fce_fk_users_user_id")

  @@unique([token, revoked], map: "oauth2_provider_refreshtoken_token_revoked_af8a5134_uniq")
  @@index([application_id], map: "oauth2_provider_refreshtoken_application_id_2d1c311b")
  @@index([user_id], map: "oauth2_provider_refreshtoken_user_id_da837fce")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model offers_document {
  id                           Int                            @id @default(autoincrement())
  created                      DateTime                       @db.Timestamptz(6)
  modified                     DateTime                       @db.Timestamptz(6)
  file                         String                         @db.VarChar(100)
  hash                         String?
  stellar_transaction_hash     String?
  proposal_id                  Int                            @unique
  blockchain_link              String?
  blockchain_transaction_id    String?
  offers_proposal              offers_proposal                @relation(fields: [proposal_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offers_document_proposal_id_9c16af73_fk_offers_proposal_id")
  offers_historyoffersdocument offers_historyoffersdocument[]
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model offers_historyoffersdocument {
  id                        Int              @id @default(autoincrement())
  created                   DateTime         @db.Timestamptz(6)
  modified                  DateTime         @db.Timestamptz(6)
  cod                       String?          @db.VarChar(30)
  transaction_hash          String?
  blockchain_transaction_id String?
  blockchain_link           String?
  creator_id                Int?
  document_id               Int?
  users_user                users_user?      @relation(fields: [creator_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offers_historyoffers_creator_id_89690ff0_fk_users_use")
  offers_document           offers_document? @relation(fields: [document_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offers_historyoffers_document_id_c0b6e0f3_fk_offers_do")

  @@index([creator_id], map: "offers_historyoffersdocument_creator_id_89690ff0")
  @@index([document_id], map: "offers_historyoffersdocument_document_id_c0b6e0f3")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model offers_offer {
  id                                              Int                                @id @default(autoincrement())
  created                                         DateTime                           @db.Timestamptz(6)
  modified                                        DateTime                           @db.Timestamptz(6)
  shares                                          Int
  amount_per_share                                Decimal                            @db.Decimal(20, 2)
  company_id                                      Int
  user_id                                         Int?
  for_user_id                                     Int?
  is_family                                       Boolean
  concept                                         String                             @db.VarChar(32)
  capital_increase_id                             Int?                               @unique
  is_canceled                                     Boolean
  status                                          String                             @db.VarChar(32)
  cod                                             String?                            @db.VarChar(255)
  capital_increases_capitalincrease               capital_increases_capitalincrease? @relation(fields: [capital_increase_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offers_offer_capital_increase_id_64fa82ed_fk_capital_i")
  companies_company                               companies_company                  @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offers_offer_company_id_623c4621_fk_companies_company_id")
  users_user_offers_offer_for_user_idTousers_user users_user?                        @relation("offers_offer_for_user_idTousers_user", fields: [for_user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offers_offer_for_user_id_123defbd_fk_users_user_id")
  users_user_offers_offer_user_idTousers_user     users_user?                        @relation("offers_offer_user_idTousers_user", fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offers_offer_user_id_4fbc0994_fk_users_user_id")
  offers_proposal                                 offers_proposal[]

  @@index([company_id], map: "offers_offer_company_id_623c4621")
  @@index([for_user_id], map: "offers_offer_for_user_id_123defbd")
  @@index([user_id], map: "offers_offer_user_id_4fbc0994")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model offers_proposal {
  id                   Int                   @id @default(autoincrement())
  created              DateTime              @db.Timestamptz(6)
  modified             DateTime              @db.Timestamptz(6)
  shares               Int
  amount_per_share     Decimal               @db.Decimal(20, 2)
  state                String                @db.VarChar(9)
  offer_id             Int
  user_id              Int
  operation_id         Int?                  @unique
  payment_id           Int?                  @unique
  shares_range_end     Int?
  shares_range_start   Int?
  fees                 Decimal               @db.Decimal(20, 2)
  total_amount         Decimal?              @db.Decimal(20, 2)
  cod                  String?               @db.VarChar(255)
  offers_document      offers_document?
  offers_offer         offers_offer          @relation(fields: [offer_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offers_proposal_offer_id_04f106db_fk_offers_offer_id")
  operations_operation operations_operation? @relation(fields: [operation_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offers_proposal_operation_id_f4cb3598_fk_operation")
  payments_payment     payments_payment?     @relation(fields: [payment_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offers_proposal_payment_id_71ec353a_fk_payments_payment_id")
  users_user           users_user            @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "offers_proposal_user_id_a8d68715_fk_users_user_id")

  @@index([offer_id], map: "offers_proposal_offer_id_04f106db")
  @@index([user_id], map: "offers_proposal_user_id_a8d68715")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model operations_operation {
  id                                                       Int                  @id @default(autoincrement())
  created                                                  DateTime             @db.Timestamptz(6)
  modified                                                 DateTime             @db.Timestamptz(6)
  type                                                     String               @db.VarChar(32)
  status                                                   String               @db.VarChar(32)
  shares                                                   Int
  amount                                                   Decimal?             @db.Decimal(20, 2)
  date                                                     DateTime             @db.Date
  concept                                                  String?              @db.VarChar(256)
  range_start                                              Int?
  range_end                                                Int?
  company_id                                               Int
  from_user_id                                             Int?
  to_user_id                                               Int
  from_shares_after_operation                              Int?
  to_shares_after_operation                                Int?
  amount_per_share                                         Decimal?             @db.Decimal(20, 2)
  stellar_transaction_hash                                 String?
  issue_premium                                            Decimal?             @db.Decimal(20, 2)
  from_cod                                                 String?              @db.VarChar(30)
  to_cod                                                   String?              @db.VarChar(30)
  documents_document                                       documents_document[]
  offers_proposal                                          offers_proposal?
  companies_company                                        companies_company    @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "operations_operation_company_id_a5943d84_fk_companies")
  users_user_operations_operation_from_user_idTousers_user users_user?          @relation("operations_operation_from_user_idTousers_user", fields: [from_user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "operations_operation_from_user_id_7fd8c572_fk_users_user_id")
  users_user_operations_operation_to_user_idTousers_user   users_user           @relation("operations_operation_to_user_idTousers_user", fields: [to_user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "operations_operation_to_user_id_bbca8815_fk_users_user_id")

  @@index([company_id], map: "operations_operation_company_id_a5943d84")
  @@index([from_user_id], map: "operations_operation_from_user_id_7fd8c572")
  @@index([to_user_id], map: "operations_operation_to_user_id_bbca8815")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model options_option {
  id          Int     @id @default(autoincrement())
  name        String  @unique @db.VarChar(255)
  public_name String  @db.VarChar(255)
  type        Int
  value       String? @db.VarChar(256)
  is_list     Boolean
  file        String? @db.VarChar(100)
  is_public   Boolean
  help_text   String?

  @@index([name], map: "options_option_name_42a60494_like")
  @@index([public_name], map: "options_option_public_name_b9237778")
  @@index([public_name], map: "options_option_public_name_b9237778_like")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model options_useroption {
  id          Int        @id @default(autoincrement())
  public_name String     @db.VarChar(255)
  type        Int
  value       String?    @db.VarChar(256)
  is_list     Boolean
  name        String     @db.VarChar(255)
  user_id     Int
  file        String?    @db.VarChar(100)
  is_public   Boolean
  help_text   String?
  users_user  users_user @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "options_useroption_user_id_01488187_fk_users_user_id")

  @@unique([user_id, name], map: "options_useroption_user_id_name_2fafb39f_uniq")
  @@index([public_name], map: "options_useroption_public_name_2eeaa9e5")
  @@index([public_name], map: "options_useroption_public_name_2eeaa9e5_like")
  @@index([user_id], map: "options_useroption_user_id_01488187")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model partners_partner {
  id                                  Int                                   @id @default(autoincrement())
  shares                              Int
  company_id                          Int
  user_id                             Int
  unit_acquisition_value              Decimal?                              @db.Decimal(20, 2)
  cod                                 String?                               @db.VarChar(255)
  company_cod                         String?                               @db.VarChar(255)
  content_type_id                     Int?
  object_id                           Int?
  user_cod                            String?                               @db.VarChar(255)
  conversations_conversation_partners conversations_conversation_partners[]
  companies_company                   companies_company                     @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "partners_partner_company_id_e5c5fedc_fk_companies_company_id")
  django_content_type                 django_content_type?                  @relation(fields: [content_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "partners_partner_content_type_id_a0059c54_fk_django_co")
  users_user                          users_user                            @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "partners_partner_user_id_c9159f29_fk_users_user_id")

  @@unique([cod, company_id], map: "partners_partner_cod_company_id_ea741457_uniq")
  @@index([company_id], map: "partners_partner_company_id_e5c5fedc")
  @@index([content_type_id], map: "partners_partner_content_type_id_a0059c54")
  @@index([user_id], map: "partners_partner_user_id_c9159f29")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model payments_payment {
  id                                                   Int              @id @default(autoincrement())
  created                                              DateTime         @db.Timestamptz(6)
  modified                                             DateTime         @db.Timestamptz(6)
  amount                                               Decimal          @db.Decimal(20, 2)
  currency                                             String           @db.VarChar(3)
  status                                               String           @db.VarChar(32)
  mangopay_transaction_id                              Int?             @unique(map: "payments_payment_mangopay_payment_id_key")
  to_user_id                                           Int?
  type                                                 String           @db.VarChar(32)
  from_user_id                                         Int?
  fees                                                 Decimal          @db.Decimal(20, 2)
  from_cod                                             String?          @db.VarChar(30)
  to_cod                                               String?          @db.VarChar(30)
  offers_proposal                                      offers_proposal?
  users_user_payments_payment_from_user_idTousers_user users_user?      @relation("payments_payment_from_user_idTousers_user", fields: [from_user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "payments_payment_from_user_id_cc566b32_fk_users_user_id")
  users_user_payments_payment_to_user_idTousers_user   users_user?      @relation("payments_payment_to_user_idTousers_user", fields: [to_user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "payments_payment_to_user_id_7dfa9b08_fk_users_user_id")

  @@index([from_user_id], map: "payments_payment_from_user_id_cc566b32")
  @@index([to_user_id], map: "payments_payment_user_id_f9db060a")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model snitch_event {
  id                                                                            Int                   @id @default(autoincrement())
  created                                                                       DateTime              @db.Timestamptz(6)
  modified                                                                      DateTime              @db.Timestamptz(6)
  actor_object_id                                                               Int?
  verb                                                                          String?               @db.VarChar(255)
  trigger_object_id                                                             Int?
  target_object_id                                                              Int?
  notified                                                                      Boolean
  actor_content_type_id                                                         Int?
  target_content_type_id                                                        Int?
  trigger_content_type_id                                                       Int?
  django_content_type_snitch_event_actor_content_type_idTodjango_content_type   django_content_type?  @relation("snitch_event_actor_content_type_idTodjango_content_type", fields: [actor_content_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "snitch_event_actor_content_type_i_2ad2cc94_fk_django_co")
  django_content_type_snitch_event_target_content_type_idTodjango_content_type  django_content_type?  @relation("snitch_event_target_content_type_idTodjango_content_type", fields: [target_content_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "snitch_event_target_content_type__06e9448e_fk_django_co")
  django_content_type_snitch_event_trigger_content_type_idTodjango_content_type django_content_type?  @relation("snitch_event_trigger_content_type_idTodjango_content_type", fields: [trigger_content_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "snitch_event_trigger_content_type_8b86ecfb_fk_django_co")
  snitch_notification                                                           snitch_notification[]

  @@index([actor_content_type_id], map: "snitch_event_actor_content_type_id_2ad2cc94")
  @@index([target_content_type_id], map: "snitch_event_target_content_type_id_06e9448e")
  @@index([trigger_content_type_id], map: "snitch_event_trigger_content_type_id_8b86ecfb")
}

model snitch_eventtype {
  id      Int     @id @default(autoincrement())
  verb    String? @unique @db.VarChar(255)
  enabled Boolean

  @@index([verb], map: "snitch_eventtype_verb_e0dbde6d_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model snitch_notification {
  id           Int          @id @default(autoincrement())
  created      DateTime     @db.Timestamptz(6)
  modified     DateTime     @db.Timestamptz(6)
  sent         Boolean
  received     Boolean
  read         Boolean
  event_id     Int
  user_id      Int
  snitch_event snitch_event @relation(fields: [event_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "snitch_notification_event_id_0283365f_fk_snitch_event_id")
  users_user   users_user   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "snitch_notification_user_id_9f5bdce1_fk_users_user_id")

  @@index([event_id], map: "snitch_notification_event_id_0283365f")
  @@index([user_id], map: "snitch_notification_user_id_9f5bdce1")
}

model social_auth_association {
  id         BigInt @id @default(autoincrement())
  server_url String @db.VarChar(255)
  handle     String @db.VarChar(255)
  secret     String @db.VarChar(255)
  issued     Int
  lifetime   Int
  assoc_type String @db.VarChar(64)

  @@unique([server_url, handle], map: "social_auth_association_server_url_handle_078befa2_uniq")
}

model social_auth_code {
  id        BigInt   @id @default(autoincrement())
  email     String   @db.VarChar(254)
  code      String   @db.VarChar(32)
  verified  Boolean
  timestamp DateTime @db.Timestamptz(6)

  @@unique([email, code], map: "social_auth_code_email_code_801b2d02_uniq")
  @@index([code], map: "social_auth_code_code_a2393167")
  @@index([code], map: "social_auth_code_code_a2393167_like")
  @@index([timestamp], map: "social_auth_code_timestamp_176b341f")
}

model social_auth_nonce {
  id         BigInt @id @default(autoincrement())
  server_url String @db.VarChar(255)
  timestamp  Int
  salt       String @db.VarChar(65)

  @@unique([server_url, timestamp, salt], map: "social_auth_nonce_server_url_timestamp_salt_f6284463_uniq")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
model social_auth_partial {
  id        BigInt   @id @default(autoincrement())
  token     String   @db.VarChar(32)
  next_step Int      @db.SmallInt
  backend   String   @db.VarChar(32)
  timestamp DateTime @db.Timestamptz(6)
  data      Json

  @@index([timestamp], map: "social_auth_partial_timestamp_50f2119f")
  @@index([token], map: "social_auth_partial_token_3017fea3")
  @@index([token], map: "social_auth_partial_token_3017fea3_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model social_auth_usersocialauth {
  id         BigInt     @id @default(autoincrement())
  provider   String     @db.VarChar(32)
  uid        String     @db.VarChar(255)
  user_id    Int
  created    DateTime   @db.Timestamptz(6)
  modified   DateTime   @db.Timestamptz(6)
  extra_data Json
  users_user users_user @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "social_auth_usersocialauth_user_id_17d28448_fk_users_user_id")

  @@unique([provider, uid], map: "social_auth_usersocialauth_provider_uid_e6b5e668_uniq")
  @@index([uid], map: "social_auth_usersocialauth_uid_796e51dc")
  @@index([uid], map: "social_auth_usersocialauth_uid_796e51dc_like")
  @@index([user_id], map: "social_auth_usersocialauth_user_id_17d28448")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model stellar_asset {
  id                               Int                                @id @default(autoincrement())
  created                          DateTime                           @db.Timestamptz(6)
  modified                         DateTime                           @db.Timestamptz(6)
  code                             String
  issuer_public_key                String
  issuer_secret                    String
  distribution_public_key          String
  distribution_secret              String
  company_id                       Int                                @unique
  companies_company                companies_company                  @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "stellar_asset_company_id_abb22de8_fk_companies_company_id")
  stellar_asset_trust_op_completed stellar_asset_trust_op_completed[]
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model stellar_asset_trust_op_completed {
  id            Int           @id @default(autoincrement())
  asset_id      Int
  user_id       Int
  stellar_asset stellar_asset @relation(fields: [asset_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "stellar_asset_trust__asset_id_bd42c6f5_fk_stellar_a")
  users_user    users_user    @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "stellar_asset_trust__user_id_af5e299a_fk_users_use")

  @@unique([asset_id, user_id], map: "stellar_asset_trust_op_completed_asset_id_user_id_5068d3fb_uniq")
  @@index([asset_id], map: "stellar_asset_trust_op_completed_asset_id_bd42c6f5")
  @@index([user_id], map: "stellar_asset_trust_op_completed_user_id_af5e299a")
}

model stellar_currencyasset {
  id                                       Int                                        @id @default(autoincrement())
  created                                  DateTime                                   @db.Timestamptz(6)
  modified                                 DateTime                                   @db.Timestamptz(6)
  code                                     String
  issuer_public_key                        String
  issuer_secret                            String
  distribution_public_key                  String
  distribution_secret                      String
  currencies_currency                      currencies_currency?
  stellar_currencyasset_trust_op_completed stellar_currencyasset_trust_op_completed[]
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model stellar_currencyasset_trust_op_completed {
  id                    Int                   @id @default(autoincrement())
  currencyasset_id      Int
  user_id               Int
  stellar_currencyasset stellar_currencyasset @relation(fields: [currencyasset_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "stellar_currencyasse_currencyasset_id_6ed8310e_fk_stellar_c")
  users_user            users_user            @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "stellar_currencyasse_user_id_064aab92_fk_users_use")

  @@unique([currencyasset_id, user_id], map: "stellar_currencyasset_tr_currencyasset_id_user_id_41a7f1bb_uniq")
  @@index([currencyasset_id], map: "stellar_currencyasset_trus_currencyasset_id_6ed8310e")
  @@index([user_id], map: "stellar_currencyasset_trust_op_completed_user_id_064aab92")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model stellar_wallet {
  id         Int        @id @default(autoincrement())
  created    DateTime   @db.Timestamptz(6)
  modified   DateTime   @db.Timestamptz(6)
  public_key String?
  secret     String?
  user_id    Int        @unique
  users_user users_user @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "stellar_wallet_user_id_ee8eb8e3_fk_users_user_id")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model users_fiscalresidence {
  id             Int        @id @default(autoincrement())
  created        DateTime   @db.Timestamptz(6)
  modified       DateTime   @db.Timestamptz(6)
  street_address String?    @db.VarChar(200)
  city           String?    @db.VarChar(100)
  postal_code    String?    @db.VarChar(10)
  state          String?    @db.VarChar(100)
  country        String?    @db.VarChar(2)
  user_id        Int
  users_user     users_user @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_fiscalresidence_user_id_5b29aae4_fk_users_user_id")

  @@index([user_id], map: "users_fiscalresidence_user_id_5b29aae4")
}

model users_user {
  id                                                                           Int                                        @id @default(autoincrement())
  password                                                                     String                                     @db.VarChar(128)
  last_login                                                                   DateTime?                                  @db.Timestamptz(6)
  is_superuser                                                                 Boolean
  email                                                                        String                                     @unique @db.VarChar(254)
  first_name                                                                   String                                     @db.VarChar(30)
  last_name                                                                    String                                     @db.VarChar(150)
  is_staff                                                                     Boolean
  is_active                                                                    Boolean
  date_joined                                                                  DateTime                                   @db.Timestamptz(6)
  restore_password_code                                                        String?                                    @unique @db.VarChar(256)
  restore_password_code_requested_at                                           DateTime?                                  @db.Timestamptz(6)
  is_email_verified                                                            Boolean
  verification_code                                                            String?                                    @unique @db.VarChar(256)
  newsletter                                                                   Boolean
  two_factor                                                                   Boolean
  two_factor_code                                                              String?                                    @db.VarChar(10)
  two_factor_code_created                                                      DateTime?                                  @db.Timestamptz(6)
  phone                                                                        String?                                    @db.VarChar(30)
  birthday                                                                     DateTime?                                  @db.Date
  id_document_image_back                                                       String?                                    @db.VarChar(100)
  id_document_image_front                                                      String?                                    @db.VarChar(100)
  id_document_image_me                                                         String?                                    @db.VarChar(100)
  id_document_number                                                           String?                                    @db.VarChar(50)
  id_document_type                                                             String?                                    @db.VarChar(10)
  nationality                                                                  String?                                    @db.VarChar(2)
  status                                                                       String                                     @db.VarChar(32)
  is_blocked                                                                   Boolean
  is_canceled                                                                  Boolean
  deleted_date                                                                 DateTime?                                  @db.Timestamptz(6)
  is_deleted                                                                   Boolean
  type                                                                         String                                     @db.VarChar(32)
  marital_status                                                               String?                                    @db.VarChar(10)
  profession                                                                   String?                                    @db.VarChar(150)
  cod                                                                          String?                                    @db.VarChar(30)
  authtoken_token                                                              authtoken_token?
  companies_company                                                            companies_company[]
  companies_company_investors                                                  companies_company_investors[]
  conversations_conversation                                                   conversations_conversation[]
  conversations_conversationhistory                                            conversations_conversationhistory[]
  conversations_message                                                        conversations_message[]
  django_admin_log                                                             django_admin_log[]
  documents_document                                                           documents_document[]
  documents_document_related_users                                             documents_document_related_users[]
  documents_historydocument                                                    documents_historydocument[]
  documents_usersessionlog                                                     documents_usersessionlog[]
  mangopay_mangopaybankaccount                                                 mangopay_mangopaybankaccount[]
  mangopay_mangopaybankwiredeposit                                             mangopay_mangopaybankwiredeposit[]
  mangopay_mangopaydeposit                                                     mangopay_mangopaydeposit[]
  mangopay_mangopaykycdocument                                                 mangopay_mangopaykycdocument[]
  mangopay_mangopaytransfer_mangopay_mangopaytransfer_from_user_idTousers_user mangopay_mangopaytransfer[]                @relation("mangopay_mangopaytransfer_from_user_idTousers_user")
  mangopay_mangopaytransfer_mangopay_mangopaytransfer_to_user_idTousers_user   mangopay_mangopaytransfer[]                @relation("mangopay_mangopaytransfer_to_user_idTousers_user")
  mangopay_mangopayuser                                                        mangopay_mangopayuser[]
  mangopay_mangopaywallet                                                      mangopay_mangopaywallet[]
  meetings_document                                                            meetings_document[]
  meetings_historymeetingsdocument                                             meetings_historymeetingsdocument[]
  meetings_meeting                                                             meetings_meeting[]
  meetings_participant                                                         meetings_participant[]
  oauth2_provider_accesstoken                                                  oauth2_provider_accesstoken[]
  oauth2_provider_application                                                  oauth2_provider_application[]
  oauth2_provider_grant                                                        oauth2_provider_grant[]
  oauth2_provider_idtoken                                                      oauth2_provider_idtoken[]
  oauth2_provider_refreshtoken                                                 oauth2_provider_refreshtoken[]
  offers_historyoffersdocument                                                 offers_historyoffersdocument[]
  offers_offer_offers_offer_for_user_idTousers_user                            offers_offer[]                             @relation("offers_offer_for_user_idTousers_user")
  offers_offer_offers_offer_user_idTousers_user                                offers_offer[]                             @relation("offers_offer_user_idTousers_user")
  offers_proposal                                                              offers_proposal[]
  operations_operation_operations_operation_from_user_idTousers_user           operations_operation[]                     @relation("operations_operation_from_user_idTousers_user")
  operations_operation_operations_operation_to_user_idTousers_user             operations_operation[]                     @relation("operations_operation_to_user_idTousers_user")
  options_useroption                                                           options_useroption[]
  partners_partner                                                             partners_partner[]
  payments_payment_payments_payment_from_user_idTousers_user                   payments_payment[]                         @relation("payments_payment_from_user_idTousers_user")
  payments_payment_payments_payment_to_user_idTousers_user                     payments_payment[]                         @relation("payments_payment_to_user_idTousers_user")
  snitch_notification                                                          snitch_notification[]
  social_auth_usersocialauth                                                   social_auth_usersocialauth[]
  stellar_asset_trust_op_completed                                             stellar_asset_trust_op_completed[]
  stellar_currencyasset_trust_op_completed                                     stellar_currencyasset_trust_op_completed[]
  stellar_wallet                                                               stellar_wallet?
  users_fiscalresidence                                                        users_fiscalresidence[]
  users_user_favorited_companies                                               users_user_favorited_companies[]
  users_user_groups                                                            users_user_groups[]
  users_user_user_permissions                                                  users_user_user_permissions[]
  cuentas_participes                                                           cuentas_participes[]
  participacion                                                                participacion[]
  nota_convertible                                                             nota_convertible[]
  venta_convertibel                                                            venta_de_notas_convertibles[]

  @@index([cod], map: "users_user_cod_7b7c3ebf")
  @@index([cod], map: "users_user_cod_7b7c3ebf_like")
  @@index([email], map: "users_user_email_243f6e77_like")
  @@index([restore_password_code], map: "users_user_restore_password_code_6e6b2df8_like")
  @@index([verification_code], map: "users_user_verification_code_743ac4c1_like")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model users_user_favorited_companies {
  id                Int               @id @default(autoincrement())
  user_id           Int
  company_id        Int
  companies_company companies_company @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_user_favorited_company_id_445a86b5_fk_companies")
  users_user        users_user        @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_user_favorited_user_id_08ed230f_fk_users_use")

  @@unique([user_id, company_id], map: "users_user_favorited_companies_user_id_company_id_a9fbb7f8_uniq")
  @@index([company_id], map: "users_user_favorited_companies_company_id_445a86b5")
  @@index([user_id], map: "users_user_favorited_companies_user_id_08ed230f")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model users_user_groups {
  id         Int        @id @default(autoincrement())
  user_id    Int
  group_id   Int
  auth_group auth_group @relation(fields: [group_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_user_groups_group_id_9afc8d0e_fk_auth_group_id")
  users_user users_user @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_user_groups_user_id_5f6f5a90_fk_users_user_id")

  @@unique([user_id, group_id], map: "users_user_groups_user_id_group_id_b88eab82_uniq")
  @@index([group_id], map: "users_user_groups_group_id_9afc8d0e")
  @@index([user_id], map: "users_user_groups_user_id_5f6f5a90")
}

/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model users_user_user_permissions {
  id              Int             @id @default(autoincrement())
  user_id         Int
  permission_id   Int
  auth_permission auth_permission @relation(fields: [permission_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_user_user_perm_permission_id_0b93982e_fk_auth_perm")
  users_user      users_user      @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_user_user_permissions_user_id_20aca447_fk_users_user_id")

  @@unique([user_id, permission_id], map: "users_user_user_permissions_user_id_permission_id_43338c45_uniq")
  @@index([permission_id], map: "users_user_user_permissions_permission_id_0b93982e")
  @@index([user_id], map: "users_user_user_permissions_user_id_20aca447")
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model has constraints using non-default deferring rules and requires additional setup for migrations. Visit https://pris.ly/d/constraint-deferring for more info.
model votes_vote {
  id                       Int                  @id @default(autoincrement())
  vote                     String?              @db.VarChar(12)
  created                  DateTime             @db.Timestamptz(6)
  agenda_item_id           Int?
  stellar_transaction_hash String?
  cod                      String?              @db.VarChar(255)
  content_type_id          Int?
  object_id                Int?
  meetings_agendaitem      meetings_agendaitem? @relation(fields: [agenda_item_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "votes_vote_agenda_item_id_2274f311_fk_meetings_agendaitem_id")
  django_content_type      django_content_type? @relation(fields: [content_type_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "votes_vote_content_type_id_c8375fe1_fk_django_content_type_id")

  @@unique([agenda_item_id, content_type_id, object_id], map: "votes_vote_agenda_item_id_content_t_3114f042_uniq")
  @@index([agenda_item_id], map: "votes_vote_agenda_item_id_2274f311")
  @@index([content_type_id], map: "votes_vote_content_type_id_c8375fe1")
}

/// A partir de aqui esta hecho por @crisolita
model cuentas_participes {
  id                  Int                                          @id @default(autoincrement())
  creator_id          Int
  nombre_del_proyecto String
  descripcion         String
  cantidad_a_vender   Float
  cantidad_restante   Float
  ticket_minimo       Float
  cesion              Boolean
  duracion            DateTime
  fecha_lanzamiento   DateTime
  companyIDSeller     Int
  clausulas           String?
  countMedia          Int?
  mangopay_transfers  mangopay_mangopaytransfer_cuenta_participe[]
  users_user          users_user                                   @relation(fields: [creator_id], references: [id])
  paticipacion        participacion[]
  media               mediaCP[]
}

model orders {
  id                  Int                     @id @default(autoincrement())
  aportacion          Float
  documentId_first    String?
  documentId_second   String?
  signatureId         String?
  cuenta_participe_id Int
  buyerID             Int?
  sellerID            Int
  bloqueo_id          Int?
  companyIdSeller     Int?
  status              StatusOrderCtaParticipe
  companyIdBuyer      Int?
  create_date         DateTime
  complete_at         DateTime?
  participacion_id    Int?
}

model orderNotaConvertible {
  id                  Int                     @id @default(autoincrement())
  nota_convertible_id Int?
  aportacion          Float
  venta_nc_id         Int?
  signature_id        String?
  document_id_first   String?
  document_id_second  String?
  create_date         DateTime
  complete_at         DateTime?
  sellerId            Int
  companyIdBuyer      Int?
  buyerId             Int?
  bloqueo_id          Int?
  status              StatusOrderCtaParticipe
}

model participacion {
  id                  Int           @id @default(autoincrement())
  cuenta_participe_id Int
  aportacion          Float
  document_id_first   String
  document_id_second  String
  owner_id            Int
  signature_id        String
  buy_date            DateTime
  cesion_is_allowed   Boolean?
  status              StatusActivo?

  records            record_participaciones[]
  users_user         users_user               @relation(fields: [owner_id], references: [id])
  cuentas_participes cuentas_participes       @relation(fields: [cuenta_participe_id], references: [id])
}

model mangopay_basemangopaytransaction_cuenta_participe {
  id                                         Int                                         @id @default(autoincrement())
  created                                    DateTime                                    @db.Timestamptz(6)
  modified                                   DateTime                                    @db.Timestamptz(6)
  transaction_id                             String                                      @db.VarChar(32)
  status                                     String                                      @db.VarChar(32)
  amount                                     Decimal                                     @db.Decimal(20, 2)
  currency                                   String                                      @db.VarChar(3)
  fees                                       Decimal                                     @db.Decimal(20, 2)
  cod                                        String                                      @db.VarChar(30)
  mangopay_mangopaytransfer_cuenta_participe mangopay_mangopaytransfer_cuenta_participe?
}

model mangopay_mangopaytransfer_cuenta_participe {
  from_user_id                                      Int
  to_user_id                                        Int
  basemangopaytransaction_ptr_id                    Int                                               @id
  from_cod                                          String?                                           @db.VarChar(255)
  to_cod                                            String?                                           @db.VarChar(255)
  total_amount                                      Decimal?                                          @db.Decimal(20, 2)
  cuenta_participe_id                               Int
  cuenta_participe                                  cuentas_participes                                @relation(fields: [cuenta_participe_id], references: [id])
  mangopay_basemangopaytransaction_cuenta_participe mangopay_basemangopaytransaction_cuenta_participe @relation(fields: [basemangopaytransaction_ptr_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "mangopay_mangopaytra_basemangopaytransact_d76323ba_fk_mangopay_")
}

model record_participaciones {
  id                    Int           @id @default(autoincrement())
  participacion_id      Int
  aportacion            Float
  old_document_id_first String
  old_document_second   String
  old_signature_id      String
  old_owner_id          Int
  change_date           DateTime
  participacion         participacion @relation(fields: [participacion_id], references: [id])
}

model venta_de_notas_convertibles {
  id                Int            @id @default(autoincrement())
  cantidad_a_vender Float
  cantidad_restante Float
  ticket_minimo     Float
  creador_id        Int
  companyID         Int
  interes_fijo      Float?
  interes_variable  Float?
  tipodeinteres     Tipodeinteres?
  vence_date        DateTime?
  vence_cantidad    Int?
  tasa_descuento    Float?
  capitulacion      String?
  CAP_no_ronda      String?
  floor             String?
  fecha_devolucion  DateTime?
  negociar          Boolean?
    countMedia  Int?
  user              users_user     @relation(fields: [creador_id], references: [id])
  mediaNC           mediaNC[]
}

model nota_convertible {
  id                 Int           @id @default(autoincrement())
  valor              Float
  venta_nc_id        Int?
  document_id_first  String?
  document_id_second String?
  signature_id       String?
  buy_date           DateTime
  interes_fijo       Float?
  interes_variable   Float?
  vence_date         DateTime?
  tasa_descuento     Float?
  capitulacion       String?
  CAP_no_ronda       String?
  floor              String?
  fecha_devolucion   DateTime?
  negociar           Boolean?
  clausulas          String?
  owner_id           Int
  status             StatusActivo?
  user               users_user    @relation(fields: [owner_id], references: [id])
}

model mediaCP {
  id                  Int                @id @default(autoincrement())
  cuenta_participe_id Int
  path                String
  type                TypeOfMedia
  cuenta_participe    cuentas_participes @relation(fields: [cuenta_participe_id], references: [id])
}

model mediaNC {
  id                        Int                         @id @default(autoincrement())
  venta_nota_convertible_id Int
  path                      String
  type                      TypeOfMedia
  nota_convertible          venta_de_notas_convertibles @relation(fields: [venta_nota_convertible_id], references: [id])
}

enum StatusOrderCtaParticipe {
  VENTA_ACTIVA
  SALDO_BLOQUEADO
  PENDIENTE_FIRMA
  COMPRA_TERMINADA
  RECHAZADA
}

enum StatusActivo {
  ACTIVO
  FINALIZADO
  CANCELADO
}

enum Tipodeinteres {
  FIJO
  VARIABLE
  COMPUESTO
}

enum TypeOfMedia {
  IMAGE
  DOC
}
